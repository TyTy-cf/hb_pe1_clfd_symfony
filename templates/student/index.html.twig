{% extends 'base.html.twig' %}

{% block title %}Hello StudentController!{% endblock %}

{% block body %}

    <div class="container-fluid">
        <table class="table table-striped table-dark text-center table-hover">
            <thead>
            <tr>
                <th>First name</th>
                <th>Last name</th>
                <th>Email</th>
                <th>Date de naissance</th>
                <th>Notes</th>
            </tr>
            </thead>
            <tbody>
            {% if students|length > 0 %}
                {% for student in students %}
                    <tr>
                        <td>{{ student.firstName }}</td>
                        <td>{{ student.lastName }}</td>
                        <td>{{ student.email }}</td>
                        <td>{{ student.birthDate|date('d/m/Y') }}</td>
                        <td>
                            <div class="text-center p-1">
                                <div class="row">
                                    <div class="col-6">Notes</div>
                                    <div class="col-6">Matières</div>
                                    {% for rank in student.ranks %}
                                        <div class="col-6 text-center {% if rank.rank < 10 %}red{% else %}green{% endif %}">
                                            {{ rank.rank }}
                                        </div>
                                        <div class="col-6 text-center {% if rank.rank < 10 %}red{% else %}green{% endif %}">
                                            {{ rank.subject }}
                                        </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="4">Aucun étudiant</td>
                </tr>
            {% endif %}
            </tbody>
        </table>
    </div>



{% endblock %}
